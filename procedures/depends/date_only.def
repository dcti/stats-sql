-- $Id: date_only.def,v 1.4 2001/12/26 01:23:39 decibel Exp $

\set procedure=sp__date_only

-- a blank 'use' aborts the next transaction, so do this in two steps
if ( "${1}" = "" )
begin
	print "Database not specified! Using 'sybsystemprocs' as default!"
	use sybsystemprocs
end
go
if ( "${1}" != "" )
begin
	use ${1}
end
go

if (object_id("$procedure") is not null)
begin
        print "Dropping procedure $procedure"
        drop procedure $procedure
end
go

\echo "Creating procedure $procedure"
create procedure $procedure
(
	@date smalldatetime output	/* Datetime to convert */
)
as
	
	select @date = datename(month, @date) + " " + datename(day, @date) + " " + datename(year, @date)

go

grant execute on $procedure to public
go

